<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JA OCR Overlay</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <main id="stage">
    <img id="img" alt="screenshot" />
    <div id="overlay"></div>
    <div id="hint">이미지 불러오는 중…</div>

    <!-- 통합 팝업(좌: 원문/번역, 우: 형태소/한자) -->
    <div id="pop" class="popover" hidden>
      <div class="pop-head">
        <div id="popDrag" class="drag-handle" title="드래그해서 이동"></div>
      </div>

      <div class="pop-body">
        <!-- 좌측 컬럼 -->
        <section class="col-left">
          <div id="rubyLine" class="ruby-line">…</div>
          <hr class="sep" />
          <div id="transLine" class="trans-line">…</div>
        </section>

        <!-- 우측 컬럼(형태소/lemma/번역/한자슬라이더) -->
        <aside class="col-right">
          <div id="tokHeader" class="tok-header">
            <span class="ph">형태소를 탭하면 상세가 여기에 표시됩니다</span>
          </div>

          <div class="kcarousel" id="kcarousel">
            <button class="knav kprev" id="kprev" aria-label="이전">‹</button>
            <div class="kviewport" id="kviewport">
              <div class="ktrack" id="ktrack"></div>
            </div>
            <button class="knav knext" id="knext" aria-label="다음">›</button>
          </div>

          <div id="kExplain" class="k-explain" hidden></div>
        </aside>
      </div>

      <!-- 얇고 긴 방향바(팝업 경계 바깥) -->
      <div class="arrow-bar arrow-top"    data-dir="top"    title="위로 이동"></div>
      <div class="arrow-bar arrow-bottom" data-dir="bottom" title="아래로 이동"></div>
      <div class="arrow-bar arrow-left"   data-dir="left"   title="왼쪽으로 이동"></div>
      <div class="arrow-bar arrow-right"  data-dir="right"  title="오른쪽으로 이동"></div>
    </div>

    <!-- 수정 다이얼로그 -->
    <dialog id="editDlg">
      <form method="dialog" class="edit-form">
        <label>원문 수정</label>
        <textarea id="editInput" rows="4"></textarea>
        <menu>
          <button value="cancel" class="btn ghost">취소</button>
          <button id="editOk" value="ok" class="btn">저장</button>
        </menu>
      </form>
    </dialog>
  </main>

  <!-- 중요: /public 에 index.html이 있으므로 ../src/app.js 경로가 맞습니다 -->
  <script type="module" src="../src/app.js"></script>
</body>
</html>
