:root{
  --bg:#0b0b0c; --ink:#e8e8ea; --muted:#a9abb3; --accent:#4da3ff;
  --box:#4da3ff; --box-active:#00d4ff; --pop:#141417; --border:#2a2a31;
}
*{ box-sizing:border-box; }
html,body{ margin:0; height:100%; background:var(--bg); color:var(--ink); font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple SD Gothic Neo", "Noto Sans CJK KR", "Noto Sans JP", "Malgun Gothic", sans-serif; }
#stage{ position:relative; width:100%; min-height:100vh; display:grid; place-items:center; padding:10px; }

#img{ max-width:100%; height:auto; display:block; border-radius:10px; box-shadow:0 6px 30px rgba(0,0,0,.4); }
#overlay{ position:absolute; inset:0; margin:auto; pointer-events:auto; }
#hint{ position:absolute; left:0; right:0; bottom:18px; text-align:center; color:var(--muted); font-size:14px; }

.box{ position:absolute; border:2px solid var(--box); border-radius:10px; background:transparent; cursor:pointer; }
.box.active{ border-color:var(--box-active); box-shadow:0 0 0 2px rgba(0,212,255,.25) inset; }

.popover{ position:absolute; max-width:min(92vw, 900px); background:var(--pop); color:var(--ink);
  border:1px solid var(--border); border-radius:14px; padding:12px; box-shadow:0 12px 40px rgba(0,0,0,.5); z-index:50; }
.pop-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin:2px 0 6px; }
.sep{ border:none; border-top:1px solid var(--border); margin:8px 0; }

.ruby-line{ line-height:1.6; font-size:16px; color:#cfd4ff; word-break:break-word; }
.ruby-line ruby{ ruby-position:over; ruby-align:center; }
.ruby-line rt{ font-size:12px; color:#9fb3ff; }

/* ✅ 추가: 루비 라인 토큰도 클릭 가능/하이라이트 */
.ruby-line .tok{ padding:2px 4px; border-radius:6px; }
.ruby-line .tok:hover{ background:#1f2433; cursor:pointer; }

.orig-line{ line-height:1.8; font-size:18px; word-break:break-word; }
.orig-line .tok{ padding:2px 4px; border-radius:6px; }
.orig-line .tok:hover{ background:#1f2433; cursor:pointer; }

.trans-line{ font-size:18px; line-height:1.7; color:#e7f6ff; word-break:break-word; }

.btn{ background:var(--accent); color:#021323; border:none; padding:8px 12px; border-radius:10px; font-weight:600; cursor:pointer; }
.btn.ghost{ background:transparent; color:var(--muted); border:1px solid var(--border); }
.btn.sm{ padding:6px 10px; font-size:12px; }

.subpop{ position:absolute; max-width:70vw; background:var(--pop); color:var(--ink);
  border:1px solid var(--border); border-radius:12px; padding:8px 10px; z-index:60; box-shadow:0 8px 30px rgba(0,0,0,.5); }
.subpop a{ color:#9bd1ff; text-decoration:none; }
.subpop a:hover{ text-decoration:underline; }

dialog{ border:none; border-radius:12px; background:var(--pop); color:var(--ink); }
.edit-form{ display:flex; flex-direction:column; gap:8px; min-width:min(86vw, 560px); }
textarea{ width:100%; background:#11121a; color:var(--ink); border:1px solid var(--border); border-radius:10px; padding:8px; font-size:16px; }
menu{ display:flex; justify-content:flex-end; gap:8px; margin:0; padding:0; }
